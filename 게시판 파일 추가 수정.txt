게시판 업데이트를 함..

1. 수정 페이지 로딩할때 파일을 가져와야 됨.

2. 파일갯수만큼
<c:forEach 로 반복문을 돌리고,
첨부파일 인풋을 생성해준다.
value에 oriName을 넣어준다.
<span>oriName<span>에 출력 
* 파일 인풋은 밸류를 집어넣을 수가 없다 그러므로 수정할때 방법을 생각해봐야 한다.
* 수정인지 추가인지 삭제인지 구분을 해야만 한다.

span 에 form-control을 넣고(부트스트랩 디자인), 삭제 버튼을 추가해줌

3. js에서 삭제 버튼을 눌렀을 때 작동할 코드를 for문 사용해서 작성해준다.
삭제버튼에 클래스 명을 주고 , queryselectall 쓰면 됨.
 > 클래스명.foreach(function(f){
	f.addEventListener("click", function(){
		let chk = window.confirm("삭제하면 되돌릴 수 없습니다.")
		if(!chk){ //아니요 누르면 바로 종료
			return;
		}
		//예를 누르면 삭제


		클릭하면 Ajax코드를 실행한다.
		POST 메서드로 보냄.("./fileDelete")
		
		응답을 받으면 responseText 의 값으로 삭제 완료여부를 판단한다.
		삭제완료되면 HTML을 바꿔준다.
	})
});



4. 파일 추가 버튼을 눌러서 파일 추가가 가능하게 해준다.


for(fi of 클래스명){
 console.log(fi)
}

5. 파일을 삭제하면 DB만 지워지고 실제 파일이 삭제되지는 않음
그러므로 삭제할때 HDD에 있는 파일도 삭제해준다.
DB지워지는데 성공하면 파일을 삭제하는쪽이 더 나음

db 삭제에 성공하면 (
파일매니저 클래스에서 삭제메서드를 사용해서 삭제
servletContext는 세션에서 꺼낼 수 있다.(session.getServletContext)




***수정페이지에서 삭제버튼를 누르면, 
1. ajax요청으로 파일 삭제
2. DB에서 먼저 삭제후 hdd에서 삭제

**파일을 추가하고, 수정 버튼을 클릭하면
2. 글을 먼저 db에서 수정함.
3. 추가된 파일 추가
//중간에 에러나면 트랜잭션으로 롤백처리해야하는데 그방법은 나중에 배울거에요